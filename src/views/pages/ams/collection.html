

			<div class="modal fade" id="collectionAddModal" role="dialog" ng-init="" aria-labelledby="AddNewSequences" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							 <button class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
							<h4 class="modal-title" id="myModalLabel">
                                Add a new item to {{collection.name}}
							</h4>
						</div>
                        <div class="modal-body">

			<form class="form-horizontal" role="form">
				<div class="form-group">
					 <label for="inputemail3" class="col-sm-4 control-label">new item name</label>
					<div class="col-sm-6">
                        <input type="text" class="form-control" placeholder="enter item name here ..." ng-model="newSubCollection.name" autofocus/>
					</div>
				</div>
						</div>
						<div class="modal-footer">
                            <button class="btn btn-default" ng-click="newSubCollection={}" data-dismiss="modal">Close</button>
                            <button type="submit" ng-disabled="!newSubCollection.name"
                                ng-click="createNewSubCollection()" class="btn btn-success">Add item to {{collection.name}}</button>
						</div>
					</div>

				</div>

			</div>
			</form>















<div class="container collectionDiv">
		<div class="col-md-12 column">
			<ul class="breadcrumb" style="min-height: 45px">
				<li>
					<a href="#/pms">Projects</a> <span class="divider"></span>
				</li>
				<li>
                <a href="#/pms/{{collection.project.id}}">{{collection.project.name}}</a> <span class="divider"></span>
                </li>
                <li ng-if="collection.parent.parent.parent.parent">
                <a href="#/ams/c/{{collection.parent.parent.parent.parent.id}}?page=1">{{collection.parent.parent.parent.parent.name}}</a> <span class="divider"></span>
				</li>
                <li ng-if="collection.parent.parent.parent">
                <a href="#/ams/c/{{collection.parent.parent.parent.id}}?page=1">{{collection.parent.parent.parent.name}}</a> <span class="divider"></span>
				</li>
                <li ng-if="collection.parent.parent">
                <a href="#/ams/c/{{collection.parent.parent.id}}?page=1">{{collection.parent.parent.name}}</a> <span class="divider"></span>
				</li>
                <li ng-if="collection.parent">
                <a href="#/ams/c/{{collection.parent.id}}?page=1">{{collection.parent.name}}</a> <span class="divider"></span>
				</li>
				<li class="active">
				    {{collection.name}}
                    </li>

                    <span class="pull-right">
                        <button id="collectionDeleteButton" class="btn btn-default btn-sm" ng-click="deleteCollection()" type="button"> 
                            <em class="glyphicon glyphicon-trash"></em>
                        </button>
                    </span>

			</ul>

        <div class="col-md-8 column">
			<div class="btn-group" ng-show="collection.container">
                <button id="collectionAddButton" class="btn btn-success btn-sm" type="button" data-toggle="modal" data-target="#collectionAddModal">
                    <em class="glyphicon glyphicon-plus"></em>
                    <em class="glyphicon glyphicon-folder-open"></em>
                </button>
			</div>
            <h3>{{collection.name | uppercase}}</h3>
                <div class="col-md-2" ng-repeat="subcol in collection.children track by $index">
					<div class="thumbnail asm_thumb">
                        <a href="#ams/c/{{subcol.id}}?page=1" title="{{subcol.description}}"
                        ><img class="asm_col_thumb_img" alt="150x100" width="150" ng-src="/static/{{collection.repository.name}}/{{subcol.path}}/thumb.png" /></a>
						<div class="caption">
                            <h5><a href="#ams/c/{{subcol.id}}?page=1" 
                                    title="{{subcol.name}}"
                                    style="color:#337AB7;word-wrap: break-word;text-decoration:none"><strong>{{subcol.name}}</strong></a>
                                <small ng-show="subcol.number_of_assets">[<span style="color:green">{{subcol.number_of_assets}}</span>]</small>
                                <span ng-show="subcol.children.length">
                                    [<span style="color:grey"><strong>{{subcol.children.length}}</strong></span>]</span>
                        </h5>
							<p>
							</p>
						</div>
					</div>
                </div>
		</div>
        <div class="col-md-12 column" ng-show="collection.holdAssets">
        <hr/>

            <form id="fileupload" method="PUT" enctype="multipart/form-data" 
                data-file-upload="uploadOptions" 
                data-ng-class="{'fileupload-processing': processing() || loadingFiles}" ng-controller="FileUploadController">
        <!-- Redirect browsers with JavaScript disabled to the origin page -->
        <!-- The fileupload-buttonbar contains buttons to add/delete files and start/cancel the upload -->
        <div class="row fileupload-buttonbar">
            <div class="col-md-7">
                <!-- The fileinput-button span is used to style the file input field as button -->
                <span class="btn btn-success fileinput-button" ng-class="{disabled: disabled}">
                    <i class="glyphicon glyphicon-plus"></i>
                    <span>Add files...</span>
                    <input type="file" name="files[]" multiple ng-disabled="disabled">
                </span>
                <br/>
                <div ng-show='queue.length'>
                <button type="button" class="btn btn-primary start" data-ng-click="submit()">
                    <i class="glyphicon glyphicon-upload"></i>
                    <span>Start upload</span>
                </button>
                <button type="button" class="btn btn-warning cancel" data-ng-click="cancel()">
                    <i class="glyphicon glyphicon-ban-circle"></i>
                    <span>Cancel upload</span>
                </button>
            </div>
                <!-- The global file processing state -->
                <br/>
                <br/>
                <span class="fileupload-process"></span>
            </div>
            <!-- The global progress state -->
            <div class="col-md-5 fade" data-ng-class="{in: active()}">
                <!-- The global progress bar -->
                <div class="progress progress-striped active" data-file-upload-progress="progress()"><div 
                        class="progress-bar progress-bar-success" data-ng-style="{width: num + '%'}"></div></div>
                <!-- The extended global progress state -->
                <div class="progress-extended">&nbsp;</div>
            </div>
        </div>
        <!-- The table listing the files available for upload/download -->
        <table class="table table-striped files ng-cloak">
            <tr data-ng-repeat="file in queue" 
                ng-show="!(file.$state()=='resolved' && file.$progress().loaded)" 
                data-ng-class="{'processing': file.$processing()}">
                <td data-ng-switch data-on="!!file.thumbnailUrl">
                    <div class="preview" data-ng-switch-when="true">
                        <a data-ng-href="{{file.url}}" title="{{file.name}}" download="{{file.name}}"
                            data-gallery><img data-ng-src="{{file.thumbnailUrl}}" alt=""></a>
                    </div>
                    <div class="preview" data-ng-switch-default data-file-upload-preview="file"></div>
                </td>
                <td>
                    <p class="name" data-ng-switch data-on="!!file.url">
                        <span data-ng-switch-when="true" data-ng-switch data-on="!!file.thumbnailUrl">
                            <a data-ng-switch-when="true" data-ng-href="{{file.url}}" title="{{file.name}}" 
                                download="{{file.name}}" data-gallery>{{file.name}}</a>
                            <a data-ng-switch-default data-ng-href="{{file.url}}" title="{{file.name}}" download="{{file.name}}">{{file.name}}</a>
                        </span>
                        <span data-ng-switch-default>{{file.name}}</span>
                   
                    </p>
                    <strong data-ng-show="file.error" class="error text-danger">{{file.error}}</strong>
                </td>
                <td>
                    <p class="size">{{$parent.getReadableFileSizeString(file.size)}}</p>
                    <div class="progress progress-striped active fade" data-ng-class="{pending: 'in'}[file.$state()]" 
                        data-file-upload-progress="file.$progress()"><div class="progress-bar progress-bar-success" 
                            data-ng-style="{width: num + '%'}"></div></div>
                </td>
                <td>
                    <button type="button" class="btn btn-primary start" data-ng-click="file.$submit()" data-ng-hide="!file.$submit || options.autoUpload" data-ng-disabled="file.$state() == 'pending' || file.$state() == 'rejected'">
                        <i class="glyphicon glyphicon-upload"></i>
                        <span>Start</span>
                    </button>
                    <button type="button" class="btn btn-warning cancel" data-ng-click="file.$cancel()" data-ng-hide="!file.$cancel">
                        <i class="glyphicon glyphicon-ban-circle"></i>
                        <span>Cancel</span>
                    </button>
                    <button type="button" class="btn btn-danger destroy" data-ng-click="file.$destroy()" data-ng-hide="!file.$destroy">
                        <i class="glyphicon glyphicon-trash"></i>
                        <span>Delete</span>
                    </button>
                </td>
            </tr>
        </table>
    </form>
    <br>
 

        </div>

        <div class="col-md-12" ng-show="collection.assets.length>0">
            <div ng-if="collection.holdAssets">
            <hr/>
            <h3 ng-show="collection.assets.length>0">Assets <small>({{(collection.page-1)*10+1}}-{{ (collection.page-1)*10+collection.assets.length}} of {{collection.assets_count}}) 
                    <span ng-if="collection.collection_size">
                        -
                        [{{$parent.getReadableFileSizeString(collection.collection_size)}}]
                    </span>
            
            </small></h3>
				<div class="form-group">
					<div class="col-md-6">
                        <input type="text" class="form-control" placeholder="Search for {{collection.name}} Assets here" 
                        ng-model="collection.CollectionAssetFilter" />
                    </div>
                            <div class="form-group hidden-sm hidden-xs col-md-4">
                            <label class="checkbox-inline" ng-init="initToggle();">
                                <input id="toggle-thmb" type="checkbox" ng-checked="thumbnails" ng-click="toggleThumbnail()" data-toggle="toggle"> Thumbnails
                            </label>
                            </div>

                        <div class="col-md-2 btn-group btn-group" ng-show="">
                            <button type="button" class="btn btn-default btn-sm" ng-class="{disabled: collection.page == 1}" 
                                ng-click="getCollectionDetails(collection.page-2)">
                                <em class="glyphicon glyphicon-chevron-left"></em>
                            </button>
                            <button type="button" class="btn btn-default btn-sm" ng-class="{disabled: collection.page >= collection.assets_count/10}" 
                                ng-click="getCollectionDetails(collection.page)">
                                <em class="glyphicon glyphicon-chevron-right"></em>
                            </button>
                        </div>
                </div>
                <br/>
                <br/>
                <table class="table table-striped table-hover refresh-container pull-down" >
                        <thead class="hidden-xs">
                            <td class="col-md-1"><a href="javascript:;"><strong>ID</strong></a></td>
                            <td ng-if="thumbnails" class="col-md-2"><a href="javascript:;"><strong></strong></a></td>
                            <td ng-class="{'col-md-4':thumbnails, 'col-md-6':!thumbnails}"><a href="javascript:;"><strong>Name</strong></a></td>
                            <td class="col-md-1"><a href="javascript:;"><strong>Size</strong></a></td>
                            <td class="col-md-2"><a href="javascript:;"><strong>Date</strong></a></td>
                            <td class="col-md-2"><a href="javascript:;"><strong>Owner</strong></a></td>
                        </tr></thead>

                        <tbody>
                            <tr ng-repeat="asset in collection.assets | filter:collection.CollectionAssetFilter track by $index">
                                <td class="hidden-xs" style="vertical-align: middle;" >{{asset.id}}</td>
                                <td ng-if="thumbnails && !asset.thumbnail" class="hidden-xs"  style="vertical-align: middle;"></td>
                                <td ng-if="thumbnails && asset.thumbnail" class="hidden-xs"  style="vertical-align: middle;">
                                    <a href="/static/{{asset.poster}}" data-gallery="collectionLinks"><img class="thumbnail" ng-src="/static/{{asset.thumbnail}}" /></a></td>
                                <td  style="vertical-align: middle;"><a href="#/ams/a/{{asset.id}}">{{asset.fullname}}</strong></a></td>
                            <td  style="vertical-align: middle;">
                                <span> {{$parent.getReadableFileSizeString(asset.content_size)}} </span>
                            </td>
                                <td  style="vertical-align: middle;" class="hidden-xs">{{$parent.prettyDate(asset.datetime)}} ago</td>
                                <td  style="vertical-align: middle;" class="hidden-xs" >{{asset.owner.name}}</td>
                            </tr>
                        </tbody>
                    <table>
    <hr ng-show="collection.assets.length>0"/>
    </div>
	</div>


    <div class="col-md-3">

            <div ng-controller="taggerCtrl" class="">
                <input type="search" id="tagSearchInput"  class="typeahead form-control" 
                options="tagOptions" datasets="completeData" placeholder="Tag this collection"
                ng-model="tags.userTagFilter" ng-keyup="$event.keyCode == 13 ? addTag('collection', $parent.collection) : null" sf-typeahead>
					<div class="">
                        <br/>
                        <ul class="nav nav-pills nav-stacked" style="margin-left: -15px;">
                            <li class="" ng-repeat="tag in $parent.collection.tgs track by $index">
                            <a style="word-break: break-all;" ><em class="fa fa-tag"></em> <span ng-show="true" 
                                    style="cursor:pointer" ng-click="$parent.collection.tgs.splice($index, 1);addTag('collection', $parent.collection)" 
                                    class="badge pull-right fa fa-remove"> </span>{{tag.name}}</a>
                            </li>
                        </ul>

					</div>
                </div>
            </div>
    </div>


    <div ng-include="'pages/comment/index.html'"></div>

</div>



<script>
/*jslint unparam: true */
/*global window, $ */
$(function () {
    'use strict';
    // Change this to the location of your server-side upload handler:
    var url ='http://127.0.0.1/api/test_upload?multipart=true';

});
</script>


